{"version":3,"sources":["config/index.js","containers/Cats.jsx","services/cat-api.js","App.jsx","reportWebVitals.js","index.js"],"names":["apiKey","process","REACT_APP_KITTY_KEY","CatView","lazy","useStyles","makeStyles","theme","root","padding","spacing","titleTypo","Cats","classes","useState","cats","setCats","isLoading","setIsLoading","error","setError","success","setSuccess","limit","setLimit","getCats","axios","get","headers","params","fetchCats","then","response","data","catch","console","log","finally","useEffect","className","Grid","container","component","Paper","item","xs","Typography","variant","align","Select","labelId","id","value","onChange","target","fullWidth","map","MenuItem","disabled","length","Suspense","fallback","cat","App","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.731fe006.chunk.js","sourcesContent":["export const apiKey = process.env.REACT_APP_KITTY_KEY","import React, { useState, useEffect, lazy } from 'react';\nimport {\n    Grid,\n    Paper,\n    Typography,\n    MenuItem,\n    Select,\n    makeStyles\n} from '@material-ui/core';\nimport { fetchCats } from \"../services/cat-api\";\n\n// we use lazy loading to load out CatView component\nconst CatView = lazy(() => import('../components/Cats/CatView'));\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        padding: theme.spacing(2),\n    },\n    titleTypo: {\n        padding: theme.spacing(1)\n    }\n}))\n\nexport default function Cats() {\n    const classes = useStyles();\n    // we hold cats array in the local React state\n    const [cats, setCats] = useState([])\n    // isLoading, error and success are for UI/ UX\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(false);\n    const [success, setSuccess] = useState(false);\n\n    const [limit, setLimit] = useState(25);\n    const limitOptions = [10, 25, 50, 100];\n\n    const getCats = () => {\n        // let user know we are loading data\n        setIsLoading(true);\n        // we set error in case it was set to true in the previous load\n        setError(false);\n        fetchCats(limit)\n            .then(response => {\n                setCats(response.data);\n                setSuccess(true);\n            })\n            .catch(error => {\n                setError('Something went wrong. Please try again later.');\n                console.log(error);\n            })\n            .finally(() => {\n                setIsLoading(false);\n            })\n    }\n\n    useEffect(() => {\n        // if the condition below is true, it means \n        // we have not yet performed a request, so we go ahead and do so\n        // otherwise we avoid that as we are either waiting for a response \n        // or we got an error (which we inform the user about)\n        if (!success && !error && !isLoading) {\n            getCats();\n        }\n        // when the user changes a parameter, we call getCats with the new \n        // parameter(s) - only if getCats is not already loading.\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [error, isLoading, limit])\n\n    useEffect(() => {\n        getCats(limit);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [limit])\n\n    return (\n        <div className={classes.root}>\n            <Grid container component={Paper} spacing={2}>\n                <Grid item xs={4}>\n                    <Typography variant=\"h5\"\n                        component=\"h1\"\n                        className={classes.titleTypo}\n                    >\n                        Hello, Kitty!\n                    </Typography>\n                </Grid>\n                <Grid item xs={4} align=\"center\">\n                    <Typography variant=\"h5\"\n                        component=\"span\"\n                        className={classes.titleTypo}\n                    >\n                        Limit\n                    </Typography>\n                    <Select\n                        labelId=\"Limit\"\n                        id=\"limit\"\n                        value={limit}\n                        onChange={({ target: { value } }) => setLimit(value)}\n                        fullWidth\n                    >\n                        {limitOptions.map(limit => {\n                            return (\n                                <MenuItem key={limit} value={limit} disabled={isLoading}>\n                                    {limit}\n                                </MenuItem>\n                            )\n                        })}\n                    </Select>\n                </Grid>\n                <Grid item xs={4}>\n                    <Typography variant=\"h5\"\n                        align=\"right\"\n                        component=\"h2\"\n                        className={classes.titleTypo}\n                    >\n                        A meow API\n                    </Typography>\n                </Grid>\n                {isLoading\n                    &&\n                    (\n                        <Grid item xs={12}>\n                            <Typography variant=\"h5\"\n                                component=\"h2\"\n                                align=\"center\"\n                                className={classes.titleTypo}\n                            >\n                                Loading a limit of {limit} cats...\n                            </Typography>\n                        </Grid>\n                    )\n\n                }\n                {!isLoading && !!cats.length\n                    ?\n                    (\n                        <React.Suspense\n                            fallback=\"Please wait while we load a place for kitties...\"\n                        >\n                            {cats.map(cat => {\n                                return (\n                                    <CatView key={cat.id} cat={cat} />\n                                )\n                            })\n\n                            }\n                        </React.Suspense>\n                    )\n                    :\n                    (\n                        error\n                            ?\n                            (\n                                <Grid item xs={12}>\n                                    <Typography variant=\"h6\"\n                                        component=\"h2\"\n                                        align=\"center\"\n                                        className={classes.titleTypo}\n                                    >\n                                        Something went wrong\n                                    </Typography>\n                                    <Typography variant=\"body\"\n                                        align=\"center\"\n                                    >\n                                        {error}\n                                    </Typography>\n                                </Grid>\n                            )\n                            : null\n                    )\n                }\n            </Grid>\n        </div>\n    )\n}\n","import axios from 'axios';\nimport { apiKey } from '../config';\n\nexport const fetchCats = limit => \n    axios.get('https://api.thecatapi.com/v1/breeds', \n    {\n        headers: {\n            'X-Api-Key': apiKey\n        },\n        params: {\n            'limit': limit,\n        }\n    });","import React from 'react';\nimport Cats from './containers/Cats';\nimport { MuiThemeProvider, makeStyles } from '@material-ui/core/styles';\nimport { Grid, CssBaseline } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        padding: theme.spacing(2),\n    },\n}))\n\n// This is the main app\n\nexport default function App() {\n    const classes = useStyles();\n\n    return (\n        <MuiThemeProvider>\n            <CssBaseline />\n            <Grid component=\"main\" className={classes.root}>\n                <Cats />\n            </Grid>\n        </MuiThemeProvider>\n    )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}